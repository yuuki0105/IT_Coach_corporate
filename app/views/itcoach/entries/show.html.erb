<% content_for :javascripts do %>
  <%= javascript_pack_tag "utilities/text" %>
  <%= javascript_pack_tag "utilities/button" %>
  <%= javascript_pack_tag "utilities/form" %>
<% end %>

<div class="space-y-4 sm:space-y-6 bg-backgroundGray pt-4 sm:pt-6 pb-20 sm:pb-30">
  <div class="py-12 sm:py-20 bg-white px-5 sm:px-30">
    <div>
      <h1 class="h1_text text-center">ITコーチエントリー</h1>
      <p class="base_text mt-6">ご興味をもっていただきありがとうございます。<br class="sm:hidden">以下のフォームよりご入力ください。</p>
      <div class="space-y-2 mt-4">
        <p class="sub_text">※すべて必須記入項目となります。（ポートフォリオのURLを除く）</p>
        <p class="sub_text">※書面審査結果は、エントリーフォームへの入力後1週間以内に登録メールアドレスへお送りします。</p>
        <p class="sub_text">※不合格の場合も審査連絡から90日後に再審査が可能です。</p>
      </div>

      <%= form_with model: @form, url: itcoach_entry_path, local: true, method: :post, class: "space-y-8" do |form| %>

        <div class="space-y-4">
          <%= form.label :name, "名前", class: "form_label" %>
          <%= form.text_field :name, placeholder: "名前", class: "text_field w-full sm:w-6/12" %>
        </div>
        <div class="space-y-4">
          <%= form.label :email, "メールアドレス", class: "form_label" %>
          <%= form.text_field :email, placeholder: "メールアドレス", class: "text_field w-full sm:w-6/12" %>
        </div>
        <div class="space-y-4">
          <%= form.label :telephone, "電話番号", class: "form_label" %>
          <%= form.text_field :telephone, placeholder: "電話番号", class: "text_field w-full sm:w-6/12" %>
        </div>

      <div>
        <label class="form_label">サービスを知ったきっかけ</label>
        <span class="sub_text">（複数選択可）</span>
        <div class="space-y-4 grid grid-cols-2 sm:grid-cols-4">
          <%= form.collection_check_boxes :source_route_ids, SourceRoute.all, :id, :title do |b| %>
            <%= b.label class:"flex items-center space-x-2" do %>
              <%= b.check_box class: "h-5 w-5" %>
              <span class="block base_text"><%= b.text %></span>
            <% end %>
          <% end %>
        </div>
      </div>

        <div>
          <label class="form_label">保有スキル</label>
          <span class="sub_text">（複数選択可）</span>
            <div class="space-y-8 mt-4">
              <% BigCategory.all.each do |big_category| %>
                <div>
                  <label class="base_text block font-bold"><%= big_category.name %></label>
                  <div class="space-y-4 grid grid-cols-2 sm:grid-cols-4">
                    <%= form.collection_check_boxes :category_ids, big_category.categories, :id, :name do |b| %>
                      <%= b.label class:"flex items-center space-x-2" do %>
                        <%= b.check_box class: "h-5 w-5" %>
                        <span class="block base_text"><%= b.text %></span>
                      <% end %>
                    <% end %>
                  </div>
                </div>
              <% end %>
            </div>
        </div>

        <div id="career" class="sm:w-6/12">
          <label class="form_label">キャリア</label>
          <%= form.fields_for :careers do |career| %>
            <%= render "itcoach/entries/career_fields", f: career %>
          <% end %>
          <div>
            <%= link_to_add_association '＋キャリアを追加する', form, :careers, data: { association_insertion_method: 'before' }, class: "button_add_form" %>
          </div>
        </div>

        <div id="portfolio" class="sm:w-6/12">
          <label class="form_label">ポートフォリオ</label>
          <%= form.fields_for :portfolios do |portfolio| %>
            <%= render "itcoach/entries/portfolio_fields", f: portfolio %>
          <% end %>
          <div>
            <%= link_to_add_association '＋ポートフォリオを追加する', form, :portfolios, data: { association_insertion_method: 'before' }, class: "button_add_form" %>
          </div>
        </div>

        <div class="space-y-4">
          <%= form.label :specialty, "得意なこと", class: "form_label" %>
          <%= form.text_area :specialty, rows: 5, placeholder: "（例1）Instagramで美容院・クリニックの集客支援をするのが得意です。\n（例2）ホームページ作成が得意です。20社以上のHPを主にWordpressでつくってきました。", class: "text_field w-full sm:w-6/12" %>
        </div>

      <div class="space-y-4">
        <%= form.label :other, "その他", class: "form_label" %>
        <%= form.text_area :other, placeholder: "その他問い合わせ事項がありましたらご記入ください。", rows: 4, class: "text_field w-full sm:w-6/12" %>
      </div>

        <div class="space-y-4">
          <div class="flex items-center space-x-4">
            <%= form.check_box :privacy, class: "text_field inline-block w-6 h-6" %>
            <%= form.label :privacy, "プライバシーポリシーに同意する", class: "base_text" %>
          </div>
          <p class="sub_text underline cursor-pointerr"><%= link_to "プライバシーポリシーはこちら", privacy_path %></p>
        </div>

        <%= form.submit "送信する", class: "button_gradation bg_gradation" %>

      <% end %>


    </div>
  </div>
</div>